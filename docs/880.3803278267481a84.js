"use strict";(self.webpackChunktest_ng4=self.webpackChunktest_ng4||[]).push([[880],{50880:(A,g,s)=>{s.r(g),s.d(g,{CurrenciesModule:()=>F});var p=s(36895),d=s(24006),y=s(52885),m=s(34793),e=s(94650),a=s(72164),u=s(10805),f=s(21493),C=s(32137),h=s(35593),v=s(97932);function _(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11)(1,"div",12)(2,"label"),e.\u0275\u0275text(3,"Code"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"input",13),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.currency.code=i)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(5,"div",11)(6,"div",12)(7,"label"),e.\u0275\u0275text(8,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"input",14),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.currency.name=i)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"div",11)(11,"div",12)(12,"label"),e.\u0275\u0275text(13,"Rate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"input",15),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.currency.rate=i)}),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",t.currency.code)("disabled",t.isDisabled),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.currency.name)("disabled",t.isDisabled),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.currency.rate)("disabled",t.isDisabled)}}function x(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.saveCurrency(i.currency))}),e.\u0275\u0275elementEnd()}}const b=function(){return{position:"static",width:"50px",height:"50px"}};function S(n,l){1&n&&e.\u0275\u0275element(0,"p-progressSpinner",19),2&n&&e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(2,b))}function D(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"p-footer"),e.\u0275\u0275template(1,x,1,0,"button",16),e.\u0275\u0275template(2,S,1,3,"p-progressSpinner",17),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.loadingCur),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.loadingCur)}}function w(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",23)(1,"div",24)(2,"div",25),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",26),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(c.viewCurrency(o))}),e.\u0275\u0275text(5),e.\u0275\u0275element(6,"i",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",28),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(c.editCurrency(o))}),e.\u0275\u0275element(8,"i",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",28),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(c.deleteCurrency(o))}),e.\u0275\u0275element(10,"i",30),e.\u0275\u0275elementEnd()()()}if(2&n){const t=l.$implicit,r=l.index;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",r+1," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.name," ")}}function M(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",20)(1,"ul",21),e.\u0275\u0275template(2,w,11,2,"li",22),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.allCurrencies)}}function I(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275text(1,"You currently have no currencies registered."),e.\u0275\u0275elementEnd())}function E(n,l){1&n&&e.\u0275\u0275element(0,"p-progressSpinner")}const T=function(){return{width:"600px"}},V=[{path:"",component:(()=>{class n{constructor(t,r,i,o){this.router=t,this.notificationService=r,this.confirmationService=i,this.currencyService=o,this.loadingData=!1,this.allCurrencies=[],this.isEditCurrencyDetails=!1,this.isDisabled=!1,this.csDialogTitle="",this.display=!1,this.loadingCur=!1,this.currency={}}ngOnInit(){this.loadingData=!0,this.getAllCurrencies()}getAllCurrencies(){this.currencyService.getAllCurrencies().subscribe(t=>{this.allCurrencies=t.data,this.loadingData=!1},t=>{console.log(t)})}viewCurrency(t){this.currency=t,this.csDialogTitle="View Currency",this.display=!0,this.isDisabled=!0,this.isEditCurrencyDetails=!1}showDialog(){this.currency={},this.csDialogTitle="Add New Currency",this.display=!0,this.isDisabled=!1,this.isEditCurrencyDetails=!1}saveCurrency(t){const r={code:t.code,name:t.name,type:"currency",rate:t.rate};this.loadingCur=!0,this.isEditCurrencyDetails?this.currencyService.updateCurrency(t).subscribe(i=>{this.display=!1,this.notificationService.addSingle("success","Item updated !","You've successfully updated "+t.code+"."),this.loadingCur=!1,this.getAllCurrencies()},i=>{console.log(i),this.notificationService.addSingle("error","An error occured !","error on updating "+t.code)}):this.currencyService.saveNewCurrency(r).subscribe(i=>{this.display=!1,this.notificationService.addSingle("success","Item created !","You've successfully created "+t.code+"."),this.loadingCur=!1,this.getAllCurrencies()},i=>{console.log(i)})}editCurrency(t){this.currency=t,this.isEditCurrencyDetails=!0,this.csDialogTitle="Edit Currency",this.display=!0,this.isDisabled=!1}deleteCurrency(t){this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"fa fa-trash",accept:()=>{this.currencyService.deleteCurrency(t._id).subscribe(r=>{this.getAllCurrencies(),r.ok?this.notificationService.addSingle("info","Item Deleted !","You've successfully deleted "+t.code+"."):this.notificationService.addSingle("error","An error occured !",r.message)},r=>{console.log("error :",r)})},reject:()=>{console.log("Rejected")}})}static#e=this.\u0275fac=function(r){return new(r||n)(e.\u0275\u0275directiveInject(m.F0),e.\u0275\u0275directiveInject(a.gq),e.\u0275\u0275directiveInject(u.YP),e.\u0275\u0275directiveInject(a.ie))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-currencies"]],decls:17,vars:17,consts:[[2,"margin","auto 100px"],[1,"text-muted"],[1,"row","justify-content-end"],[1,"col-md-1"],["type","button",1,"btn","peak-save-button",2,"width","150px",3,"disabled","click"],["showEffect","fade",3,"header","visible","modal","draggable","resizable","transitionOptions","closable","dismissableMask","closeIcon","visibleChange"],["pTemplate","content"],[4,"ngIf"],[1,"row","justify-content-center"],["class","col-md-12",4,"ngIf"],["style","font-size: 20px;color: grey;text-align: center;border-radius: 10px;padding: 15px;",4,"ngIf"],[1,"row","justify-content-center","rows-spacing"],[1,"col-lg-10","col-md-10","col-sm-12"],["type","text","id","code",1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","text","id","name",1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","text","id","rate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","button","pButton","","icon","fa fa-check","label","Save",3,"click",4,"ngIf"],["strokeWidth","2",3,"style",4,"ngIf"],["type","button","pButton","","icon","fa fa-check","label","Save",3,"click"],["strokeWidth","2"],[1,"col-md-12"],[1,"list-group"],["class","list-group-item row","style","padding: 0;",4,"ngFor","ngForOf"],[1,"list-group-item","row",2,"padding","0"],[1,"row",2,"padding-left","10px"],[1,"col","text-center",2,"padding","10px","max-width","70px !important"],[1,"col-md-10","action-buttons",2,"padding","10px",3,"click"],["aria-hidden","true",1,"fa","fa-eye",2,"float","right"],[1,"col","action-buttons","text-center",2,"padding","10px","max-width","80px !important",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],["aria-hidden","true",1,"fa","fa-trash"],[2,"font-size","20px","color","grey","text-align","center","border-radius","10px","padding","15px"]],template:function(r,i){1&r&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h2",1),e.\u0275\u0275text(2,"Currencies List"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"hr"),e.\u0275\u0275elementStart(4,"div",2)(5,"div",3)(6,"button",4),e.\u0275\u0275listener("click",function(){return i.showDialog()}),e.\u0275\u0275text(7,"New Currency"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"p-dialog",5),e.\u0275\u0275listener("visibleChange",function(c){return i.display=c}),e.\u0275\u0275template(9,_,15,6,"ng-template",6),e.\u0275\u0275template(10,D,3,2,"p-footer",7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(11,"br"),e.\u0275\u0275elementStart(12,"div",8),e.\u0275\u0275template(13,M,3,1,"div",9),e.\u0275\u0275template(14,I,2,0,"div",10),e.\u0275\u0275template(15,E,1,0,"p-progressSpinner",7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(16,"p-confirmDialog")),2&r&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("disabled",i.loadingData),e.\u0275\u0275advance(2),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(16,T)),e.\u0275\u0275propertyInterpolate("header",i.csDialogTitle),e.\u0275\u0275property("visible",i.display)("modal",!0)("draggable",!1)("resizable",!1)("transitionOptions","0ms")("closable",!0)("dismissableMask",!0)("closeIcon","fa fa-times"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!i.isDisabled),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!i.loadingData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0==i.allCurrencies.length&&!i.loadingData),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.loadingData))},dependencies:[p.NgForOf,p.NgIf,d.DefaultValueAccessor,d.NgControlStatus,d.NgModel,f.V,u.$_,u.jx,C.Q,h.Hq,v.G],styles:[".action-buttons[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #e0e0e0;border-width:0 0 0 1px}.action-buttons[_ngcontent-%COMP%]:focus, .action-buttons[_ngcontent-%COMP%]:hover{z-index:1;text-decoration:none;background:rgba(0,150,199,.69);color:#fff}"]})}return n})()}];let j=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.Bz.forChild(V),m.Bz]})}return n})();var k=s(6270);let F=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({providers:[a.Mi,a.gq,u.YP,a.ez,a.ie],imports:[p.CommonModule,d.FormsModule,j,f.S,C.D,v.L,h.hJ,k.U$,y.IJ]})}return n})()}}]);