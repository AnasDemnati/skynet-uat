"use strict";(self.webpackChunktest_ng4=self.webpackChunktest_ng4||[]).push([[899],{63899:(B,m,i)=>{i.r(m),i.d(m,{AccountsStatusModule:()=>V});var c=i(36895),C=i(24006),S=i(52885),d=i(34793),t=i(94650),s=i(72164),p=i(10805),f=i(32137),g=i(35593),h=i(97932),u=i(6270);function _(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",10)(1,"button",11),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext();const a=t.\u0275\u0275reference(2);return t.\u0275\u0275resetView(a.exportCSV())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(2,"i",12),t.\u0275\u0275elementStart(3,"input",13),t.\u0275\u0275listener("input",function(a){t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext();const l=t.\u0275\u0275reference(2);return t.\u0275\u0275resetView(l.filterGlobal(a.target.value,"contains"))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",14),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext();const a=t.\u0275\u0275reference(2);return t.\u0275\u0275resetView(a.exportCSV({selectionOnly:!0}))}),t.\u0275\u0275elementEnd()()}}function v(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"th"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.header," ")}}function x(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"tr"),t.\u0275\u0275template(1,v,2,1,"th",15),t.\u0275\u0275elementEnd()),2&n){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e)}}function y(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"td"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&n){const e=r.$implicit,o=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",a.getFieldValue(o,e.field)," ")}}function D(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"tr",16),t.\u0275\u0275template(1,y,2,1,"td",15),t.\u0275\u0275elementEnd()),2&n){const o=r.columns;t.\u0275\u0275property("pSelectableRow",r.$implicit),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",o)}}function A(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",4)(1,"p-table",5,6),t.\u0275\u0275listener("selectionChange",function(a){t.\u0275\u0275restoreView(e);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.selectedDepartures=a)}),t.\u0275\u0275template(3,_,5,0,"ng-template",7),t.\u0275\u0275template(4,x,2,1,"ng-template",8),t.\u0275\u0275template(5,D,2,2,"ng-template",9),t.\u0275\u0275elementEnd()()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("columns",e.colsArray)("value",e.allDepartures)("selection",e.selectedDepartures)}}function b(n,r){1&n&&t.\u0275\u0275element(0,"p-progressSpinner")}const I=[{path:"",component:(()=>{class n{constructor(e,o,a,l){this.router=e,this.notificationService=o,this.confirmationService=a,this.datastoreService=l,this.loadingData=!1,this.allDepartures=[],this.selectedDepartures=[],this.colsArray=[{field:"productCodeID.brandName",header:"Brand"},{field:"userCodeID.userCode",header:"User Code"},{field:"tripCode",header:"Trip Code"},{field:"startingDate",header:"Starting Date"},{field:"endingDate",header:"Ending Date"},{field:"state",header:"State"},{field:"isEmpty",header:"Empty Account"},{field:"numberOfPax",header:"Number Of Pax"},{field:"created",header:"Generated On"},{field:"createdBy.userCode",header:"Generated By"},{field:"updated",header:"Last Updated On"},{field:"lastUpdatedBy.userCode",header:"Last Updated By"},{field:"submitted",header:"Submitted On"},{field:"submittedBy.userCode",header:"Submitted By"},{field:"validated",header:"Validated On"},{field:"validatedBy.userCode",header:"Validated By"}]}ngOnInit(){this.loadingData=!0,this.getAllDepartures()}getAllDepartures(){this.datastoreService.getAllDepartures().subscribe(e=>{this.allDepartures=e.data,this.loadingData=!1},e=>{console.log(e)})}isObject(e){return"object"==typeof e&&null!==e}isEmpty(e){return""===e||null==e}preDisplay(e,o){if(!0===o)return"Yes";if(!1===o)return"No";if(("created"===e||"updated"===e||"submitted"===e||"validated"===e)&&"object"==typeof new Date(o)){const a=new Date(o).toLocaleDateString("en-GB");return"Invalid Date"!==a?a:o}return o}getFieldValue(e,o){const a=o.split(".");return this.isObject(e[a[0]])?this.isEmpty(e[a[0]][a[1]])?"-":e[a[0]][a[1]]:this.isEmpty(e[a[0]])?"-":this.preDisplay(a[0],e[a[0]])}static#t=this.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275directiveInject(d.F0),t.\u0275\u0275directiveInject(s.gq),t.\u0275\u0275directiveInject(p.YP),t.\u0275\u0275directiveInject(s.Mi))};static#e=this.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-accounts-status"]],decls:9,vars:2,consts:[[1,"text-muted"],[1,"row"],["class","col-md-12",4,"ngIf"],[4,"ngIf"],[1,"col-md-12"],["selectionMode","multiple",3,"columns","value","selection","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-helper-clearfix"],["type","button","pButton","","icon","fa fa-file-o","iconPos","left","label","All Data",2,"float","left",3,"click"],[1,"fa","fa-search",2,"margin","4px 4px 0 0"],["type","text","pInputText","","size","50","placeholder","Global Filter",2,"width","auto",3,"input"],["type","button","pButton","","icon","fa fa-file","iconPos","left","label","Selection Only",2,"float","right",3,"click"],[4,"ngFor","ngForOf"],[3,"pSelectableRow"]],template:function(o,a){1&o&&(t.\u0275\u0275elementStart(0,"div")(1,"h2",0),t.\u0275\u0275text(2,"Accounts Status List"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"hr")(4,"br"),t.\u0275\u0275elementStart(5,"div",1),t.\u0275\u0275template(6,A,6,3,"div",2),t.\u0275\u0275template(7,b,1,0,"p-progressSpinner",3),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(8,"p-confirmDialog")),2&o&&(t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",!a.loadingData),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.loadingData))},dependencies:[c.NgForOf,c.NgIf,p.jx,f.Q,g.Hq,h.G,u.iA,u.Ei],styles:[".action-buttons[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #e0e0e0;border-width:0 0 0 1px}.action-buttons[_ngcontent-%COMP%]:focus, .action-buttons[_ngcontent-%COMP%]:hover{z-index:1;text-decoration:none;background:rgba(0,150,199,.69);color:#fff}"]})}return n})()}];let O=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=t.\u0275\u0275defineInjector({imports:[d.Bz.forChild(I),d.Bz]})}return n})();var E=i(21493);let V=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=t.\u0275\u0275defineInjector({providers:[s.Mi,s.gq,p.YP,s.ez,s.ie],imports:[c.CommonModule,C.FormsModule,O,E.S,f.D,h.L,g.hJ,u.U$,S.IJ]})}return n})()}}]);